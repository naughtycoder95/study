"use strict";(self["webpackChunkfrontend_vue"]=self["webpackChunkfrontend_vue"]||[]).push([[805],{4833:function(e,t,l){var a=l(5398);class s{getAll(e,t,l){return a.A.get(`/shop/simple-cart?title=${e}&page=${t}&size=${l}`)}create(e){return a.A.post("/shop/simple-cart",e)}remove(e){return a.A.delete(`/shop/simple-cart/deletion/${e}`)}}t.A=new s},3805:function(e,t,l){l.r(t),l.d(t,{default:function(){return X}});var a=l(6768),s=l(5130),r=l(4232);const i={class:"row mb-5 justify-content-center"},o={class:"col-12 w-50 input-group mb-3"},n={class:"input-group-append"},c={class:"col-12 w-25 mb-3"},p=["value"],u={class:"row"},d={class:"row g-0 p-3"},g={class:"col-md-4 p-3 border"},m=["src"],h={class:"col-md-8"},v={class:"card-body"},C={class:"card-title"},k={class:"card-title"},b={class:"card-title"},L={class:"mt-3"},S=["onClick"],w={key:0,class:"row d-flex justify-content-end"};function f(e,t,l,f,y,z){const A=(0,a.g2)("b-pagination");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",i,[(0,a.Lk)("div",o,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:"form-control",placeholder:"제목검색","onUpdate:modelValue":t[0]||(t[0]=e=>y.searchTitle=e)},null,512),[[s.Jo,y.searchTitle]]),(0,a.Lk)("div",n,[(0,a.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=(...e)=>z.retrieveSimpleCart&&z.retrieveSimpleCart(...e))}," 검색 ")])])]),(0,a.Lk)("div",c,[(0,a.eW)(" 1페이지당 개수 : "),(0,a.bo)((0,a.Lk)("select",{class:"form-select form-select-sm","onUpdate:modelValue":t[2]||(t[2]=e=>y.pageSize=e),onChange:t[3]||(t[3]=(...e)=>z.pageSizeChange&&z.pageSizeChange(...e))},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(y.pageSizes,((e,t)=>((0,a.uX)(),(0,a.CE)("option",{key:t,value:e},(0,r.v_)(e),9,p)))),128))],544),[[s.u1,y.pageSize]])]),(0,a.bF)(A,{class:"col-12 mb-3",modelValue:y.page,"onUpdate:modelValue":t[4]||(t[4]=e=>y.page=e),"total-rows":y.count,"per-page":y.pageSize,onClick:z.retrieveSimpleCart},null,8,["modelValue","total-rows","per-page","onClick"]),(0,a.Lk)("div",u,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(y.simpleCart,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"card mb-3"},[(0,a.Lk)("div",d,[(0,a.Lk)("div",g,[(0,a.Lk)("img",{src:e.imgPath,class:"img-fluid rounded-start",alt:"...",style:{"{ height":"15 + 'vh', width: 5 + 'vw' }"}},null,8,m)]),(0,a.Lk)("div",h,[(0,a.Lk)("div",v,[(0,a.Lk)("h5",C,"물품명 : "+(0,r.v_)(e.title),1),(0,a.Lk)("h5",k,"가격 : "+(0,r.v_)(e.unitPrice),1),(0,a.Lk)("h5",b,"장바구니 개수: "+(0,r.v_)(e.cartCount),1),(0,a.Lk)("div",L,[(0,a.Lk)("button",{type:"button",class:"btn btn-danger w-25",onClick:t=>z.deleteSimpleCart(e.scno)}," 장바구니삭제 ",8,S)])])])])])))),128))]),y.simpleCart?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("button",{type:"button",class:"btn btn-warning w-25",onClick:t[5]||(t[5]=(...e)=>z.goOrder&&z.goOrder(...e))}," 주문 ")])):(0,a.Q3)("",!0)])}l(4114);var y=l(4833),z={data(){return{simpleCart:[],searchTitle:"",page:1,count:0,pageSize:3,pageSizes:[3,6,9]}},methods:{async retrieveSimpleCart(){try{let e=await y.A.getAll(this.searchTitle,this.page-1,this.pageSize);const{simpleCart:t,totalItems:l}=e.data;this.simpleCart=t,this.count=l,console.log(e.data)}catch(e){console.log(e)}},async deleteSimpleCart(e){try{let t=await y.A.remove(e);console.log(t.data),alert("정상적으로 삭제되었습니다."),this.retrieveSimpleCart()}catch(t){console.log(t)}},goOrder(){this.$router.push("/simple-order")},pageSizeChange(){this.page=1,this.retrieveSimpleCart()}},mounted(){this.retrieveSimpleCart()}},A=l(1241);const E=(0,A.A)(z,[["render",f]]);var X=E}}]);
//# sourceMappingURL=805.7c2ddefb.js.map